<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Balls</title>
    <style>
        body { 
            margin: 0; 
            background-color: aquamarine;
        }
        model-viewer {
            width: 900px;
            height: 600px;
        }
    </style>
    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.181.2/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.181.2/examples/jsm/"
          }
        }
        </script>
  </head>
  <body>
    <script type="module" src="/main.js"></script>
    <script>
      previousPage = "ad.html";
      nextPage = "index.html";



      var hue = Math.floor(Math.random()*360);
      console.log(hue);
      var saturation = "100%";
      var lightness = "57%";

      function colourAnimate(){
          //console.log(hue);
          requestAnimationFrame(colourAnimate);

          if(hue >= 360){
              hue -= 360;
          }

          if(hue < 50){
              hue += 0.01;
          }else if(hue > 60 && hue < 150){
              hue += 0.3;
          }else if(hue > 200 && hue < 300){
              hue+= 0.1;
          }else{
              hue += 0.02;
          }
          colour = 'hsl('+hue+','+saturation+','+lightness+')';

          highlighters = document.getElementsByClassName("highlight");
          for(let i = 0; i < highlighters.length; i++){
              highlighters[i].style.textShadow = "0px 0px 10px "+colour;
          }
      }

      colourAnimate();


      controller = {
          keyListener:function(event){
              var key_state = (event.type == "keydown")?true:false;
              switch(event.keyCode){
                  case 37: // left key
                  location.href = previousPage;
                  break;
                  case 39: // right key
                  location.href = nextPage;
                  break;
              }
          }
      };
      window.addEventListener("keydown", controller.keyListener);
      window.addEventListener("keyup", controller.keyListener);


      // swiped for swiping https://stackoverflow.com/questions/62823062/adding-a-simple-left-right-swipe-gesture
      window.addEventListener('touchstart', function (event) {
          touchstartX = event.changedTouches[0].screenX;
          touchstartY = event.changedTouches[0].screenY;
      }, false);
      window.addEventListener('touchend', function (event) {
          touchendX = event.changedTouches[0].screenX;
          touchendY = event.changedTouches[0].screenY;
          handleGesture();
      }, false);

      function handleGesture() {
          if (touchendX < touchstartX-200) {
              console.log('Swiped Left');
              location.href = nextPage;
          }
          if (touchendX > touchstartX+200) {
              console.log('Swiped Right');
              location.href = previousPage;
          }
          if (touchendY < touchstartY) {
              console.log('Swiped Up');
          }
          if (touchendY > touchstartY) {
              console.log('Swiped Down');
          }
          if (touchendY === touchstartY) {
              console.log('Tap');
          }
      }


      // var currentSlide = 1;
      // var slides = document.getElementsByClassName("slide");

      

  </script>
  </body>
    <!-- Import the component -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
    <!-- Use it like any other HTML element -->
    <model-viewer
    id="mv-ball"
    src="ball.glb"
    camera-controls
    ></model-viewer>

    <model-viewer
    id="mv-wall"
    src="wall.glb"
    camera-controls
    ></model-viewer>


    <canvas></canvas>
</html>

